{"version":3,"file":"ContentDoc-DUJGk_8Q.js","sources":["../../../../node_modules/.pnpm/@nuxt+content@2.13.4_db0@0.3.2_ioredis@5.7.0_magicast@0.3.5_nuxt@3.19.2_@parcel+watcher_7e7971975ff5eb694dd433e304c853bb/node_modules/@nuxt/content/dist/runtime/composables/head.js","../../../../node_modules/.pnpm/@nuxt+content@2.13.4_db0@0.3.2_ioredis@5.7.0_magicast@0.3.5_nuxt@3.19.2_@parcel+watcher_7e7971975ff5eb694dd433e304c853bb/node_modules/@nuxt/content/dist/runtime/components/ContentDoc.vue"],"sourcesContent":["import { hasProtocol, joinURL, withTrailingSlash, withoutTrailingSlash } from \"ufo\";\nimport { useRoute, nextTick, useHead, unref, watch, useRuntimeConfig } from \"#imports\";\nexport const useContentHead = (_content, to = useRoute()) => {\n  const content = unref(_content);\n  const config = useRuntimeConfig();\n  const refreshHead = (data = content) => {\n    if (!to.path || !data) {\n      return;\n    }\n    const head = Object.assign({}, data?.head || {});\n    head.meta = [...head.meta || []];\n    head.link = [...head.link || []];\n    const title = head.title || data?.title;\n    if (title) {\n      head.title = title;\n      if (import.meta.server && !head.meta.some((m) => m.property === \"og:title\")) {\n        head.meta.push({\n          property: \"og:title\",\n          content: title\n        });\n      }\n    }\n    const host = config.public.content.host;\n    if (import.meta.server && host) {\n      const _url = joinURL(host ?? \"/\", config.app.baseURL, to.fullPath);\n      const url = config.public.content.trailingSlash ? withTrailingSlash(_url) : withoutTrailingSlash(_url);\n      if (!head.meta.some((m) => m.property === \"og:url\")) {\n        head.meta.push({\n          property: \"og:url\",\n          content: url\n        });\n      }\n      if (!head.link.some((m) => m.rel === \"canonical\")) {\n        head.link.push({\n          rel: \"canonical\",\n          href: url\n        });\n      }\n    }\n    const description = head?.description || data?.description;\n    if (description && head.meta.filter((m) => m.name === \"description\").length === 0) {\n      head.meta.push({\n        name: \"description\",\n        content: description\n      });\n    }\n    if (import.meta.server && description && !head.meta.some((m) => m.property === \"og:description\")) {\n      head.meta.push({\n        property: \"og:description\",\n        content: description\n      });\n    }\n    const image = head?.image || data?.image;\n    if (import.meta.server && image && head.meta.filter((m) => m.property === \"og:image\").length === 0) {\n      if (typeof image === \"string\") {\n        head.meta.push({\n          property: \"og:image\",\n          content: host && !hasProtocol(image) ? new URL(joinURL(config.app.baseURL, image), host).href : image\n        });\n      }\n      if (typeof image === \"object\") {\n        const imageKeys = [\n          \"src\",\n          \"secure_url\",\n          \"type\",\n          \"width\",\n          \"height\",\n          \"alt\"\n        ];\n        for (const key of imageKeys) {\n          if (key === \"src\" && image.src) {\n            const isAbsoluteURL = hasProtocol(image.src);\n            const imageURL = isAbsoluteURL ? image.src : joinURL(config.app.baseURL, image.src ?? \"/\");\n            head.meta.push({\n              property: \"og:image\",\n              content: host && !isAbsoluteURL ? new URL(imageURL, host).href : imageURL\n            });\n          } else if (image[key]) {\n            head.meta.push({\n              property: `og:image:${key}`,\n              content: image[key]\n            });\n          }\n        }\n      }\n    }\n    if (import.meta.client) {\n      nextTick(() => useHead(head));\n    } else {\n      useHead(head);\n    }\n  };\n  watch(() => unref(_content), refreshHead, { immediate: true });\n};\n","<script>\nimport { defineComponent, h, useSlots } from \"vue\";\nimport { withTrailingSlash } from \"ufo\";\nimport ContentRenderer from \"./ContentRenderer.vue\";\nimport ContentQuery from \"./ContentQuery.vue\";\nimport { useRuntimeConfig, useRoute, useContentHead } from \"#imports\";\nconst ContentDoc = defineComponent({\n  name: \"ContentDoc\",\n  props: {\n    /**\n     * Renderer props\n     */\n    /**\n     * The tag to use for the renderer element if it is used.\n     * @default 'div'\n     */\n    tag: {\n      type: String,\n      required: false,\n      default: \"div\"\n    },\n    /**\n     * Whether or not to render the excerpt.\n     * @default false\n     */\n    excerpt: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * Query props\n     */\n    /**\n     * The path of the content to load from content source.\n     * @default useRoute().path\n     */\n    path: {\n      type: String,\n      required: false,\n      default: void 0\n    },\n    /**\n     * A query builder params object to be passed to <ContentQuery /> component.\n     */\n    query: {\n      type: Object,\n      required: false,\n      default: void 0\n    },\n    /**\n     * Whether or not to map the document data to the `head` property.\n     */\n    head: {\n      type: Boolean,\n      required: false,\n      default: void 0\n    }\n  },\n  /**\n   * Document empty fallback\n   * @slot empty\n   */\n  /**\n   * Document not found fallback\n   * @slot not-found\n   */\n  render(ctx) {\n    const { contentHead } = useRuntimeConfig().public.content;\n    const slots = useSlots();\n    const { tag, excerpt, path, query, head } = ctx;\n    const shouldInjectContentHead = head === void 0 ? contentHead : head;\n    const contentQueryProps = {\n      ...query || {},\n      path: path || query?.path || withTrailingSlash(useRoute().path),\n      find: \"one\"\n    };\n    const emptyNode = (slot, data) => h(\"pre\", null, JSON.stringify({ message: \"You should use slots with <ContentDoc>\", slot, data }, null, 2));\n    return h(\n      ContentQuery,\n      contentQueryProps,\n      {\n        // Default slot\n        default: slots?.default ? ({ data, refresh, isPartial }) => {\n          if (shouldInjectContentHead) {\n            useContentHead(data);\n          }\n          return slots.default?.({ doc: data, refresh, isPartial, excerpt, ...this.$attrs });\n        } : ({ data }) => {\n          if (shouldInjectContentHead) {\n            useContentHead(data);\n          }\n          return h(\n            ContentRenderer,\n            { value: data, excerpt, tag, ...this.$attrs },\n            // Forward local `empty` slots to ContentRenderer if it is used.\n            { empty: (bindings) => slots?.empty ? slots.empty(bindings) : emptyNode(\"default\", data) }\n          );\n        },\n        // Empty slot\n        empty: (bindings) => slots?.empty?.(bindings) || h(\"p\", null, \"Document is empty, overwrite this content with #empty slot in <ContentDoc>.\"),\n        // Not Found slot\n        \"not-found\": (bindings) => slots?.[\"not-found\"]?.(bindings) || h(\"p\", null, \"Document not found, overwrite this content with #not-found slot in <ContentDoc>.\")\n      }\n    );\n  }\n});\nexport default ContentDoc;\n</script>\n"],"names":["ContentQuery","ContentRenderer"],"mappings":"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","x_google_ignoreList":[0,1]}